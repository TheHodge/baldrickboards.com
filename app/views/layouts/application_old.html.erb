<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Baldrick Board Documentation" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <%# Enable PWA manifest for installable apps (make sure to enable in config/routes.rb too!) %>
    <%#= tag.link rel: "manifest", href: pwa_manifest_path(format: :json) %>

    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">

    <%# Includes Tailwind CSS %>
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="bg-gray-50 min-h-screen" data-controller="easter-egg">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50" data-controller="mobile-menu">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <!-- Logo and main nav -->
          <div class="flex">
            <div class="flex-shrink-0 flex items-center">
              <a href="/" class="text-2xl font-bold text-gray-900 hover:text-indigo-600 transition-colors">
                Baldrick Boards
              </a>
            </div>
            <div class="hidden sm:ml-8 sm:flex sm:items-center sm:space-x-8" data-controller="navigation">
              <!-- Boards dropdown -->
              <div class="relative group">
                <button class="<%= 'border-indigo-500 text-gray-900' if controller_name == 'boards' %> border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors">
                  <span>Boards</span>
                  <svg class="ml-1 h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                  </svg>
                </button>
                <div class="absolute left-0 mt-2 w-64 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                  <div class="py-1">
                    <a href="/boards" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">All Boards</a>
                    <div class="border-t border-gray-100 my-1"></div>
                    <a href="/boards/pixel-controllers" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Pixel Controllers</a>
                    <a href="/boards/relay-controllers" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Relay Controllers</a>
                    <a href="/boards/interactive-controllers" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Interactive Controllers</a>
                    <a href="/boards/portable-controllers" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Portable Controllers</a>
                    <a href="/boards/power-distribution" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Power Distribution</a>
                    <a href="/boards/dmx-controllers" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">DMX Controllers</a>
                  </div>
                </div>
              </div>
              
              <!-- Baldrick Breakthroughs Dropdown -->
              <div class="relative group">
                <button class="<%= 'border-indigo-500 text-gray-900' if controller_name == 'breakthroughs' %> border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors">
                  Baldrick Breakthroughs
                  <svg class="ml-1 h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                  </svg>
                </button>
                <div class="absolute left-0 mt-2 w-64 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                  <div class="py-1">
                    <a href="/breakthroughs/turnip-network" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">The Turnip Network</a>
                    <a href="/breakthroughs/kluster" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">The Kluster</a>
                    <a href="/breakthroughs/ce-ukca-certification" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">CE & UKCA Certification</a>
                    <a href="/breakthroughs/turniput" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Turniput</a>
                    <a href="/breakthroughs/hodgical-test-mode" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Hodgical Test Mode</a>
                    <a href="/breakthroughs/cunningfx" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">CunningFX</a>
                  </div>
                </div>
              </div>
              

              
              <!-- Fun Stuff Dropdown -->
              <div class="relative group">
                <button class="<%= 'border-indigo-500 text-gray-900' if controller_name == 'fun_stuff' %> border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors">
                  Fun Stuff
                  <svg class="ml-1 h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                  </svg>
                </button>
                <div class="absolute left-0 mt-2 w-64 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                  <div class="py-1">
                    <a href="/fun-stuff/release-notes" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Release Notes</a>
                    <a href="/fun-stuff/stls-and-mounts" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">STLs & Mounts</a>
                    <a href="/fun-stuff/board-dimensions" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Board Dimensions</a>
                    <a href="/fun-stuff/panic-mode" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Panic Mode?</a>

                  </div>
                </div>
              </div>
              
              <a href="/faq" class="<%= 'border-indigo-500 text-gray-900' if controller_name == 'faq' %> border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors">
                FAQ
              </a>
              
                              <a href="/where-to-buy-baldrick-boards" class="<%= 'border-purple-500 text-gray-900' if current_page?('/where-to-buy-baldrick-boards') %> border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors bg-purple-50 hover:bg-purple-100 rounded-t px-2">
                  <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"/>
                  </svg>
                  Where to Buy
                </a>

                <!-- Support Dropdown -->
                <div class="relative group">
                  <button class="<%= 'border-indigo-500 text-gray-900' if controller_name == 'support' %> border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors">
                    Support
                    <svg class="ml-1 h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                  </button>
                  <div class="absolute left-0 mt-2 w-64 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                    <div class="py-1">
                      <a href="/support" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Hardware Support</a>
                      <a href="/support/software" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Software Support</a>
                      <a href="/support/asking-for-help" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Asking for Help</a>
                    </div>
                  </div>
                                </div>
              
              <a href="/about" class="<%= 'border-indigo-500 text-gray-900' if controller_name == 'about' %> border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors">
                About Baldrick
              </a>
            </div>
          </div>
          
          <!-- Mobile menu button -->
          <div class="sm:hidden flex items-center">
            <button type="button" data-action="click->mobile-menu#toggle" class="mobile-menu-button inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
              <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
          </div>
        </div>
      </div>
      
      <!-- Mobile menu -->
      <div data-mobile-menu-target="menu" class="mobile-menu hidden sm:hidden">
        <div class="pt-2 pb-3 space-y-1">
          <!-- Boards Dropdown -->
          <button data-action="click->mobile-menu#toggleDropdown" class="w-full text-left border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium flex items-center justify-between">
            <span>Boards</span>
            <svg class="chevron h-4 w-4 transition-transform duration-200" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
            </svg>
          </button>
          <div data-mobile-menu-target="dropdown" class="mobile-dropdown hidden">
            <a href="/boards" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              All Boards
            </a>
            <a href="/boards/pixel-controllers" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              Pixel Controllers
            </a>
            <a href="/boards/relay-controllers" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              Relay Controllers
            </a>
            <a href="/boards/interactive-controllers" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              Interactive Controllers
            </a>
            <a href="/boards/portable-controllers" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              Portable Controllers
            </a>
            <a href="/boards/power-distribution" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              Power Distribution
            </a>
            <a href="/boards/dmx-controllers" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              DMX Controllers
            </a>
          </div>

          <!-- Baldrick Breakthroughs Dropdown -->
          <button data-action="click->mobile-menu#toggleDropdown" class="w-full text-left border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium flex items-center justify-between">
            <span>Baldrick Breakthroughs</span>
            <svg class="chevron h-4 w-4 transition-transform duration-200" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
            </svg>
          </button>
          <div data-mobile-menu-target="dropdown" class="mobile-dropdown hidden">
            <a href="/breakthroughs/turnip-network" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              The Turnip Network
            </a>
            <a href="/breakthroughs/kluster" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              The Kluster
            </a>
            <a href="/breakthroughs/ce-ukca-certification" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              CE & UKCA Certification
            </a>
            <a href="/breakthroughs/turniput" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              Turniput
            </a>
            <a href="/breakthroughs/hodgical-test-mode" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              Hodgical Test Mode
            </a>
            <a href="/breakthroughs/cunningfx" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              CunningFX
            </a>
          </div>

          <!-- Fun Stuff Dropdown -->
          <button data-action="click->mobile-menu#toggleDropdown" class="w-full text-left border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium flex items-center justify-between">
            <span>Fun Stuff</span>
            <svg class="chevron h-4 w-4 transition-transform duration-200" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
            </svg>
          </button>
          <div data-mobile-menu-target="dropdown" class="mobile-dropdown hidden">
            <a href="/fun-stuff/release-notes" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              Release Notes
            </a>
            <a href="/fun-stuff/stls-and-mounts" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              STLs & Mounts
            </a>
            <a href="/fun-stuff/board-dimensions" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              Board Dimensions
            </a>
            <a href="/fun-stuff/panic-mode" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              Panic Mode?
            </a>
          </div>

          <!-- Support Dropdown -->
          <button data-action="click->mobile-menu#toggleDropdown" class="w-full text-left border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium flex items-center justify-between">
            <span>Support</span>
            <svg class="chevron h-4 w-4 transition-transform duration-200" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
            </svg>
          </button>
          <div data-mobile-menu-target="dropdown" class="mobile-dropdown hidden">
            <a href="/support" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              Hardware Support
            </a>
            <a href="/support/software" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              Software Support
            </a>
            <a href="/support/asking-for-help" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-6 pr-4 py-2 border-l-4 text-sm font-medium">
              Asking for Help
            </a>
          </div>

          <!-- Single Links -->
          <a href="/faq" class="<%= 'bg-indigo-50 border-indigo-500 text-indigo-700' if controller_name == 'faq' %> border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">
            FAQ
          </a>
          <a href="/where-to-buy-baldrick-boards" class="<%= 'bg-purple-50 border-purple-500 text-purple-700' if current_page?('/where-to-buy-baldrick-boards') %> border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">
            🛒 Where to Buy
          </a>
          <a href="/about" class="<%= 'bg-indigo-50 border-indigo-500 text-indigo-700' if controller_name == 'about' %> border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">
            About Baldrick
          </a>
        </div>
      </div>
    </nav>

    <main class="pt-16">
      <%= yield %>
    </main>
    
    <%= render 'shared/footer' %>
    
    <script>
    </script>
  </body>
</html>